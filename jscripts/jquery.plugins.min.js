(function($){$.jGrowl=function(m,o){if($("#jGrowl").length===0)$('<div id="jGrowl"></div>').addClass(o&&o.position?o.position:$.jGrowl.defaults.position).appendTo(o&&o.appendTo?o.appendTo:$.jGrowl.defaults.appendTo);$("#jGrowl").jGrowl(m,o)};$.fn.jGrowl=function(m,o){if(o===undefined&&$.isPlainObject(m)){o=m;m=o.message}if($.isFunction(this.each)){var args=arguments;return this.each(function(){if($(this).data("jGrowl.instance")===undefined){$(this).data("jGrowl.instance",$.extend(new $.fn.jGrowl,{notifications:[],element:null,interval:null}));$(this).data("jGrowl.instance").startup(this)}if($.isFunction($(this).data("jGrowl.instance")[m])){$(this).data("jGrowl.instance")[m].apply($(this).data("jGrowl.instance"),$.makeArray(args).slice(1))}else{$(this).data("jGrowl.instance").create(m,o)}})}};$.extend($.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:false,position:"top-right",appendTo:"body",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3e3,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:true,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(){},beforeOpen:function(){},afterOpen:function(){},open:function(){},beforeClose:function(){},close:function(){},click:function(){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(message,options){var o=$.extend({},this.defaults,options);if(typeof o.speed!=="undefined"){o.openDuration=o.speed;o.closeDuration=o.speed}this.notifications.push({message:message,options:o});o.log.apply(this.element,[this.element,message,o])},render:function(n){var self=this;var message=n.message;var o=n.options;o.themeState=o.themeState===""?"":"ui-state-"+o.themeState;var notification=$("<div/>").addClass("jGrowl-notification alert "+o.themeState+" ui-corner-all"+(o.group!==undefined&&o.group!==""?" "+o.group:"")).append($("<button/>").addClass("jGrowl-close").html(o.closeTemplate)).append($("<div/>").addClass("jGrowl-header").html(o.header)).append($("<div/>").addClass("jGrowl-message").html(message)).data("jGrowl",o).addClass(o.theme).children(".jGrowl-close").bind("click.jGrowl",function(){$(this).parent().trigger("jGrowl.beforeClose");return false}).parent();$(notification).bind("mouseover.jGrowl",function(){$(".jGrowl-notification",self.element).data("jGrowl.pause",true)}).bind("mouseout.jGrowl",function(){$(".jGrowl-notification",self.element).data("jGrowl.pause",false)}).bind("jGrowl.beforeOpen",function(){if(o.beforeOpen.apply(notification,[notification,message,o,self.element])!==false){$(this).trigger("jGrowl.open")}}).bind("jGrowl.open",function(){if(o.open.apply(notification,[notification,message,o,self.element])!==false){if(o.glue=="after"){$(".jGrowl-notification:last",self.element).after(notification)}else{$(".jGrowl-notification:first",self.element).before(notification)}$(this).animate(o.animateOpen,o.openDuration,o.easing,function(){if($.support.opacity===false)this.style.removeAttribute("filter");if($(this).data("jGrowl")!==null&&typeof $(this).data("jGrowl")!=="undefined")$(this).data("jGrowl").created=new Date;$(this).trigger("jGrowl.afterOpen")})}}).bind("jGrowl.afterOpen",function(){o.afterOpen.apply(notification,[notification,message,o,self.element])}).bind("click",function(){o.click.apply(notification,[notification,message,o,self.element])}).bind("jGrowl.beforeClose",function(){if(o.beforeClose.apply(notification,[notification,message,o,self.element])!==false)$(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){$(this).data("jGrowl.pause",true);$(this).animate(o.animateClose,o.closeDuration,o.easing,function(){if($.isFunction(o.close)){if(o.close.apply(notification,[notification,message,o,self.element])!==false)$(this).remove()}else{$(this).remove()}})}).trigger("jGrowl.beforeOpen");if(o.corners!==""&&$.fn.corner!==undefined)$(notification).corner(o.corners);if($(".jGrowl-notification:parent",self.element).length>1&&$(".jGrowl-closer",self.element).length===0&&this.defaults.closer!==false){$(this.defaults.closerTemplate).addClass("jGrowl-closer "+this.defaults.themeState+" ui-corner-all").addClass(this.defaults.theme).appendTo(self.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){$(this).siblings().trigger("jGrowl.beforeClose");if($.isFunction(self.defaults.closer)){self.defaults.closer.apply($(this).parent()[0],[$(this).parent()[0]])}})}},update:function(){$(this.element).find(".jGrowl-notification:parent").each(function(){if($(this).data("jGrowl")!==undefined&&$(this).data("jGrowl").created!==undefined&&$(this).data("jGrowl").created.getTime()+parseInt($(this).data("jGrowl").life,10)<(new Date).getTime()&&$(this).data("jGrowl").sticky!==true&&($(this).data("jGrowl.pause")===undefined||$(this).data("jGrowl.pause")!==true)){$(this).trigger("jGrowl.beforeClose")}});if(this.notifications.length>0&&(this.defaults.pool===0||$(this.element).find(".jGrowl-notification:parent").length<this.defaults.pool))this.render(this.notifications.shift());if($(this.element).find(".jGrowl-notification:parent").length<2){$(this.element).find(".jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){$(this).remove()})}},startup:function(e){this.element=$(e).addClass("jGrowl").append('<div class="jGrowl-notification"></div>');this.interval=setInterval(function(){var instance=$(e).data("jGrowl.instance");if(undefined!==instance){instance.update()}},parseInt(this.defaults.check,10))},shutdown:function(){$(this.element).removeClass("jGrowl").find(".jGrowl-notification").trigger("jGrowl.close").parent().empty();clearInterval(this.interval)},close:function(){$(this.element).find(".jGrowl-notification").each(function(){$(this).trigger("jGrowl.beforeClose")})}});$.jGrowl.defaults=$.fn.jGrowl.prototype.defaults})(jQuery);(function(factory){if(typeof module==="object"&&typeof module.exports==="object"){factory(require("jquery"),window,document)}else{factory(jQuery,window,document)}})(function($,window,document,undefined){var modals=[],getCurrent=function(){return modals.length?modals[modals.length-1]:null},selectCurrent=function(){var i,selected=false;for(i=modals.length-1;i>=0;i--){if(modals[i].$blocker){modals[i].$blocker.toggleClass("current",!selected).toggleClass("behind",selected);selected=true}}};$.modal=function(el,options){var remove,target;this.$body=$("body");this.options=$.extend({},$.modal.defaults,options);this.options.doFade=!isNaN(parseInt(this.options.fadeDuration,10));this.$blocker=null;if(this.options.closeExisting)while($.modal.isActive())$.modal.close();modals.push(this);if(el.is("a")){target=el.attr("href");if(/^#/.test(target)){this.$elm=$(target);if(this.$elm.length!==1)return null;this.$body.append(this.$elm);this.open()}else{this.$elm=$("<div>");this.$body.append(this.$elm);remove=function(event,modal){modal.elm.remove()};this.showSpinner();el.trigger($.modal.AJAX_SEND);$.get(target).done(function(html){if(!$.modal.isActive())return;el.trigger($.modal.AJAX_SUCCESS);var current=getCurrent();current.$elm.empty().append(html).on($.modal.CLOSE,remove);current.hideSpinner();current.open();el.trigger($.modal.AJAX_COMPLETE)}).fail(function(){el.trigger($.modal.AJAX_FAIL);var current=getCurrent();current.hideSpinner();modals.pop();el.trigger($.modal.AJAX_COMPLETE)})}}else{this.$elm=el;this.$body.append(this.$elm);this.open()}};$.modal.prototype={constructor:$.modal,open:function(){var m=this;this.block();if(this.options.doFade){setTimeout(function(){m.show()},this.options.fadeDuration*this.options.fadeDelay)}else{this.show()}$(document).off("keydown.modal").on("keydown.modal",function(event){var current=getCurrent();if(event.which==27&&current.options.escapeClose)current.close()});if(this.options.clickClose)this.$blocker.on('click',function(e){if(e.target==this)$.modal.close()})},close:function(){modals.pop();this.unblock();this.hide();if(!$.modal.isActive())$(document).off("keydown.modal")},block:function(){this.$elm.trigger($.modal.BEFORE_BLOCK,[this._ctx()]);this.$body.css("overflow","hidden");this.$blocker=$('<div class="jquery-modal blocker current"></div>').appendTo(this.$body);selectCurrent();if(this.options.doFade){this.$blocker.css("opacity",0).animate({opacity:1},this.options.fadeDuration)}this.$elm.trigger($.modal.BLOCK,[this._ctx()])},unblock:function(now){if(!now&&this.options.doFade)this.$blocker.fadeOut(this.options.fadeDuration,this.unblock.bind(this,true));else{this.$blocker.children().appendTo(this.$body);this.$blocker.remove();this.$blocker=null;selectCurrent();if(!$.modal.isActive())this.$body.css("overflow","")}},show:function(){this.$elm.trigger($.modal.BEFORE_OPEN,[this._ctx()]);if(this.options.showClose){this.closeButton=$('<a href="#close-modal" rel="modal:close" class="close-modal '+this.options.closeClass+'">'+this.options.closeText+"</a>");this.$elm.append(this.closeButton)}this.$elm.addClass(this.options.modalClass).appendTo(this.$blocker);if(this.options.doFade){this.$elm.css("opacity",0).show().animate({opacity:1},this.options.fadeDuration)}else{this.$elm.show()}this.$elm.trigger($.modal.OPEN,[this._ctx()])},hide:function(){this.$elm.trigger($.modal.BEFORE_CLOSE,[this._ctx()]);if(this.closeButton)this.closeButton.remove();var _this=this;if(this.options.doFade){this.$elm.fadeOut(this.options.fadeDuration,function(){_this.$elm.trigger($.modal.AFTER_CLOSE,[_this._ctx()])})}else{this.$elm.hide(0,function(){_this.$elm.trigger($.modal.AFTER_CLOSE,[_this._ctx()])})}this.$elm.trigger($.modal.CLOSE,[this._ctx()])},showSpinner:function(){if(!this.options.showSpinner)return;this.spinner=this.spinner||$('<div class="'+this.options.modalClass+'-spinner"></div>').append(this.options.spinnerHtml);this.$body.append(this.spinner);this.spinner.show()},hideSpinner:function(){if(this.spinner)this.spinner.remove()},_ctx:function(){return{elm:this.$elm,$blocker:this.$blocker,options:this.options}}};$.modal.close=function(event){if(!$.modal.isActive())return;if(event)event.preventDefault();var current=getCurrent();current.close();return current.$elm};$.modal.isActive=function(){return modals.length>0};$.modal.getCurrent=getCurrent;$.modal.defaults={closeExisting:true,escapeClose:true,clickClose:true,closeText:"Close",closeClass:"",modalClass:"modal",spinnerHtml:null,showSpinner:true,showClose:true,fadeDuration:null,fadeDelay:1};$.modal.BEFORE_BLOCK="modal:before-block";$.modal.BLOCK="modal:block";$.modal.BEFORE_OPEN="modal:before-open";$.modal.OPEN="modal:open";$.modal.BEFORE_CLOSE="modal:before-close";$.modal.CLOSE="modal:close";$.modal.AFTER_CLOSE="modal:after-close";$.modal.AJAX_SEND="modal:ajax:send";$.modal.AJAX_SUCCESS="modal:ajax:success";$.modal.AJAX_FAIL="modal:ajax:fail";$.modal.AJAX_COMPLETE="modal:ajax:complete";$.fn.modal=function(options){if(this.length===1){new $.modal(this,options)}return this};$(document).on("click.modal",'a[rel="modal:close"]',$.modal.close);$(document).on("click.modal",'a[rel="modal:open"]',function(event){event.preventDefault();$(this).modal()})});(function($){var current_popup="";var PopupMenu=function(el,close_in_popupmenu){var el=$(el);var popup=this;var popup_menu=$("#"+el.attr("id")+"_popup");if(typeof close_in_popupmenu=="undefined"){var close_in_popupmenu=true}this.open=function(e){e.preventDefault();if(popup_menu.is(":visible")){popup.close();return}var offset=el.offset();offset.top+=el.outerHeight();if(el.offset().left+popup_menu.outerWidth()>$(window).width())var adjust=popup_menu.outerWidth()-el.outerWidth();else var adjust=0;popup_menu.css({position:"absolute",top:offset.top,left:offset.left-adjust});popup_menu.show();$("body, .popup_item").bind("click.close_popup",function(e){if(close_in_popupmenu){if($(e.target).closest("#"+el.attr("id")).length==0){popup.close()}}else{if($(e.target).closest("#"+el.attr("id")).length==0&&$(e.target).closest("#"+el.attr("id")+"_popup").length==0){popup.close()}}})};this.close=function(e){popup_menu.hide()}};$.fn.popupMenu=function(close_in_popupmenu){return this.each(function(){var popup=new PopupMenu(this,close_in_popupmenu);$(this).on('click',popup.open)})}})(jQuery);(function(factory){var registeredInModuleLoader=false;if(typeof define==="function"&&define.amd){define(factory);registeredInModuleLoader=true}if(typeof exports==="object"){module.exports=factory();registeredInModuleLoader=true}if(!registeredInModuleLoader){var OldCookies=window.Cookies;var api=window.Cookies=factory();api.noConflict=function(){window.Cookies=OldCookies;return api}}})(function(){function extend(){var i=0;var result={};for(;i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes){result[key]=attributes[key]}}return result}function init(converter){function api(key,value,attributes){var result;if(typeof document==="undefined"){return}if(arguments.length>1){attributes=extend({path:"/"},api.defaults,attributes);if(typeof attributes.expires==="number"){var expires=new Date;expires.setMilliseconds(expires.getMilliseconds()+attributes.expires*864e5);attributes.expires=expires}attributes.expires=attributes.expires?attributes.expires.toUTCString():"";try{result=JSON.stringify(value);if(/^[\{\[]/.test(result)){value=result}}catch(e){}if(!converter.write){value=encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)}else{value=converter.write(value,key)}key=encodeURIComponent(String(key));key=key.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);key=key.replace(/[\(\)]/g,escape);var stringifiedAttributes="";for(var attributeName in attributes){if(!attributes[attributeName]){continue}stringifiedAttributes+="; "+attributeName;if(attributes[attributeName]===true){continue}stringifiedAttributes+="="+attributes[attributeName]}return document.cookie=key+"="+value+stringifiedAttributes}if(!key){result={}}var cookies=document.cookie?document.cookie.split("; "):[];var rdecode=/(%[0-9A-Z]{2})+/g;var i=0;for(;i<cookies.length;i++){var parts=cookies[i].split("=");var cookie=parts.slice(1).join("=");if(cookie.charAt(0)==='"'){cookie=cookie.slice(1,-1)}try{var name=parts[0].replace(rdecode,decodeURIComponent);cookie=converter.read?converter.read(cookie,name):converter(cookie,name)||cookie.replace(rdecode,decodeURIComponent);if(this.json){try{cookie=JSON.parse(cookie)}catch(e){}}if(key===name){result=cookie;break}if(!key){result[name]=cookie}}catch(e){}}return result}api.set=api;api.get=function(key){return api.call(api,key)};api.getJSON=function(){return api.apply({json:true},[].slice.call(arguments))};api.defaults={};api.remove=function(key,attributes){api(key,"",extend(attributes,{expires:-1}))};api.withConverter=init;return api}return init(function(){})});
