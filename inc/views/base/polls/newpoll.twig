{% extends 'layouts/master.twig' %}

{% block head %}
    <title>{{ mybb.settings.bbname }} - {{ lang.post_new_poll }}</title>
{% endblock head %}

{% block body %}
    <form action="polls.php" method="post">
        <input type="hidden" name="my_post_key" value="{{ mybb.post_code }}" />
        <table border="0" cellspacing="{{ theme.borderwidth }}" cellpadding="{{ theme.tablespace }}" class="tborder">
            <tr>
                <td class="thead" colspan="2"><strong>{{ lang.post_new_poll }}</strong></td>
            </tr>
            {{ loginbox|raw }}
            <tr>
                <td class="trow2"><strong><label for="question">{{ lang.question }}</label></strong></td>
                <td class="trow2"><input type="text" class="textbox" name="question" id="question" size="40" maxlength="240" value="{{ select.question }}" /></td>
            </tr>
            <tr>
                <td class="trow1" valign="top"><strong><label for="polloptions">{{ lang.num_options }}</label></strong><br /><span class="smalltext">{{ lang.max_options }} {{ mybb.settings.maxpolloptions }}</span></td>
                <td class="trow1"><input type="text" class="textbox" name="polloptions" id="polloptions" size="10" value="{{ select.polloptions }}" />&nbsp;<input type="submit" class="button" name="updateoptions" value="{{ lang.update_options }}" /></td>
            </tr>
            <tr>
                <td class="trow2" valign="top"><strong>{{ lang.poll_options }}</strong></td>
                <td class="trow2"><span class="smalltext">{{ lang.poll_options_note }}</span>
                    <table border="0" cellspacing="0" cellpadding="0">
                        {% for option in optionbits %}
                            <tr>
                                <td>{{ lang.option }} {{ option.id }}:&nbsp;</td>
                                <td><input type="text" class="textbox" name="options[{{ option.id }}]" value="{{ option.value }}" size="25" /></td>
                            </tr>
                        {% endfor %}
                    </table>
                </td>
            </tr>
            <tr>
                <td class="trow1" valign="top"><strong>{{ lang.options }}</strong></td>
                <td class="trow1"><span class="smalltext">
                    <label><input type="checkbox" class="checkbox" name="postoptions[multiple]" value="1"{% if select.postoptions.multiple %} checked="checked"{% endif %} />&nbsp;{{ lang.option_multiple|raw }}</label><br />
                    <span id="maxOptions" style="display: none"><strong>{{ lang.option_multiple_maxoptions }}</strong> <input type="text" class="textbox" name="maxoptions" value="0" /><br /></span>
                    <script type="text/javascript">
                    //<!--
                        if($("input[name='postoptions[multiple]']").is(":checked")) {
                            $("#maxOptions").css("display", "");
                        }

                        $("input[name='postoptions[multiple]']").click(function() {
                            if($(this).is(":checked")) {
                                $("#maxOptions").css("display", "");
                            } else {
                                $("#maxOptions").css("display", "none");
                            }
                        });
                    // -->
                    </script>
                    <label><input type="checkbox" class="checkbox" name="postoptions[public]" value="1"{% if select.postoptions.public %} checked="checked"{% endif %} />&nbsp;{{ lang.option_public|raw }}</label>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="trow2" valign="top"><strong><label for="timeout">{{ lang.poll_timeout }}</label></strong><br /><span class="smalltext">{{ lang.timeout_note }}</span></td>
                <td class="trow2"><input type="text" class="textbox" name="timeout" id="timeout" value="{{ select.timeout }}" /> {{ lang.days }}</td>
            </tr>
        </table>
        <br />
        <div align="center"><input type="submit" class="button" name="submit" value="{{ lang.post_new_poll }}" /></div>
        <input type="hidden" name="action" value="do_newpoll" />
        <input type="hidden" name="tid" value="{{ thread.tid }}" />
    </form>
{% endblock body %}
