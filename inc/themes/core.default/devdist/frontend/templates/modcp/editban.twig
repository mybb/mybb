{% extends 'layouts/moderation.twig' %}

{% block head %}
    <title>{{ lang.edit_ban }} - {{ mybb.settings.bbname }}</title>
{% endblock head %}

{% block moderationHeader %}
    <header class="page-header">
        <h1 class="title title--page">
            {{ lang.edit_ban }}
        </h1>
    </header>
{% endblock %}

{% block moderationBody %}
    {{ errors|raw }}
    <form action="modcp.php" method="post">
        <input type="hidden" name="action" value="do_editban" />
        <input type="hidden" name="my_post_key" value="{{ mybb.post_code }}" />
        <input type="hidden" name="uid" value="{{ banned.uid }}" />
        <section class="block block--form form">
            <div class="section section--form">
                <div class="row row--form field">
                    <h3 class="field__name">{{ lang.ban_username }}</h3>
                    <p class="field__value">{{ banned.username }}</p>
                </div>
                <div class="row row--form field">
                    <h3 class="field__name"><label for="banreason">{{ lang.ban_reason }}</label></h3>
                    <textarea class="textarea" name="banreason" id="banreason" cols="60" rows="4" maxlength="255">{{ banned.reason }}</textarea>
                </div>
                {% if banned.numgroups > 1 %}
                    <div class="row row--form field">
                        <h3 class="field__name"><label for="usergroup">{{ lang.ban_movegroup }}</strong></h3>
                        <div class="select-field">
                            {{ include('partials/icon.twig', {icon: 'sort', class: 'select-field__icon'}, with_context = false) }}
                            <select name="usergroup" id="usergroup">
                                {% for group in bangroups %}
                                    <option value="{{ group.gid }}"{% if group.selected %} selected="selected"{% endif %}>{{ group.title }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                {% else %}
                    <input type="hidden" name="usergroup" value="{{ banned.banned_group }}" />
                {% endif %}
                <div class="row row--form field">
                    <h3 class="field__name"><label for="liftafter">{{ lang.ban_liftafter }}</label></h3>
                    <div class="select-field">
                        {{ include('partials/icon.twig', {icon: 'sort', class: 'select-field__icon'}, with_context = false) }}
                        <select name="liftafter" id="liftafter">
                            {% for lifttime in liftlist %}
                                <option value="{{ lifttime.time }}"{% if lifttime.selected %} selected="selected"{% endif %}>{{ lifttime.title }}{% if lifttime.thattime %} ({{ lifttime.thattime }}){% endif %}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
            <div class="form__submit">
                <button type="submit" class="button button--big" name="updateban">
                    {{ include('partials/icon.twig', {icon: 'pencil-alt', class: 'button__icon'}, with_context = false) }}
                    <span class="button__text">{{ lang.edit_ban }}</span>
                </button>
            </div>
        </section>
    </form>
{% endblock moderationBody %}
